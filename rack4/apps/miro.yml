# todo: boot up and use our own stun/turn servers
---
services:
  miro:
    profiles: [miro]
    image: mirotalk/p2p:latest
    container_name: miro
    restart: unless-stopped
    environment:
      NODE_ENV: production
      HOST: ''
      PORT: 3000
      TRUST_PROXY: true
      TZ: $TZ
      LOGS_DEBUG: true
      LOGS_COLORS: true
      LOGS_JSON: false
      LOGS_JSON_PRETTY: false
      CORS_ORIGIN: '*'
      CORS_METHODS: '["GET", "POST"]'
      IP_WHITELIST_ENABLED: false
      IP_WHITELIST_ALLOWED: '[]'
      PRESENTERS: '[]'
      STATS_ENABLED: false
      NGROK_ENABLED: false
      NGROK_AUTH_TOKEN: YourNgrokAuthToken

      OIDC_ENABLED: false
      OIDC_ALLOW_ROOMS_CREATION_FOR_AUTH_USERS: true # Allow all authenticated users via OIDC to create their own rooms
      OIDC_BASE_URL_DYNAMIC: false
      OIDC_ISSUER_BASE_URL: 'https://server.example.com'
      OIDC_BASE_URL: 'http://localhost:3000' # https://p2p.mirotalk.com
      OIDC_CLIENT_ID: 'ClientID'
      OIDC_CLIENT_SECRET: 'ClientSecret'
      OIDC_AUTH_REQUIRED: false # set to true if authentication is required for all routes
      OIDC_AUTH_LOGOUT: true # controls automatic logout from both your app and Auth0 when set to true
      SESSION_SECRET: 'mirotalk-p2p-oidc-secret'

      SHOW_ACTIVE_ROOMS: false
      ROOM_MAX_PARTICIPANTS: 1000
      HOST_PROTECTED: false
      HOST_USER_AUTH: false
      HOST_USERS: '[{"username": "admin", "password": "admin"},{"username": "guest", "password": "guest"}]'
      HOST_MAX_LOGIN_ATTEMPTS: 5
      HOST_MIN_LOGIN_BLOCK_TIME: 15
      JWT_KEY: mirotalkp2p_jwt_secret
      JWT_EXP: 1h

      # Stun/Turn
      # About: https://bloggeek.me/webrtcglossary/stun/
      # Check: https://webrtc.github.io/samples/src/content/peerconnection/trickle-ice/
      # About: https://bloggeek.me/webrtcglossary/turn/
      # Recommended: https://github.com/coturn/coturn
      # Installation: https://github.com/miroslavpejic85/mirotalk/blob/master/docs/coturn.md
      # Free one: https://www.metered.ca/tools/openrelay/ (Please, create your own account)
      # Check: https://webrtc.github.io/samples/src/content/peerconnection/trickle-ice/

      STUN_SERVER_ENABLED: true
      STUN_SERVER_URL: stun:stun.l.google.com:19302
      TURN_SERVER_ENABLED: true
      TURN_SERVER_URL: turn:a.relay.metered.ca:443
      TURN_SERVER_USERNAME: e8dd65b92c62d3e36cafb807
      TURN_SERVER_CREDENTIAL: uWdWNmkhvyqTEswO

      IP_LOOKUP_ENABLED: false
      API_KEY_SECRET: mirotalkp2p_default_secret
      API_DISABLED: '["token", "meetings"]'

      SURVEY_ENABLED: false
      SURVEY_URL: https://www.questionpro.com/t/AUs7VZq00L
      REDIRECT_ENABLED: false
      REDIRECT_URL: 'https://p2p.mirotalk.com'

      SENTRY_ENABLED: false
      SENTRY_LOG_LEVELS: error
      SENTRY_DSN: YourClientKeyDSN
      SENTRY_TRACES_SAMPLE_RATE: 0.5

      SLACK_ENABLED: false
      SLACK_SIGNING_SECRET: YourSlackSigningSecret

      MATTERMOST_ENABLED: false
      MATTERMOST_SERVER_URL: YourMattermostServerUrl
      MATTERMOST_USERNAME: YourMattermostUsername
      MATTERMOST_PASSWORD: YourMattermostPassword
      MATTERMOST_TOKEN: YourMattermostToken
      MATTERMOST_ROOM_TOKEN_EXPIRE: 15m

      CHATGPT_ENABLED: false
      CHATGPT_BASE_PATH: https://api.openai.com/v1/
      CHATGPT_APIKEY: YourOpenAiApiKey
      CHATGPT_MODEL: gpt-3.5-turbo
      CHATGPT_MAX_TOKENS: 1000
      CHATGPT_TEMPERATURE: 0

      EMAIL_ALERT: false
      EMAIL_HOST: smtp.gmail.com
      EMAIL_PORT: 587
      EMAIL_USERNAME: your_username
      EMAIL_PASSWORD: your_password
      EMAIL_FROM:
      EMAIL_SEND_TO: p2p.mirotalk@gmail.com
    networks: [traefik]
    labels:
      homepage.group: Tools
      homepage.name: Mirotalk
      homepage.icon: miro.png
      homepage.href: https://miro.chenn.dev
      homepage.description: P2P Video Chat

      traefik.enable: true
      traefik.http.routers.miro.rule: Host(`miro.henn.dev`)
      traefik.http.routers.miro.entrypoints: websecure
      traefik.http.routers.miro.middlewares: hdrs@file
      traefik.http.routers.miro.tls.certresolver: cf
      traefik.http.services.miro.loadbalancer.server.port: 3000

      pangolin.public-resources.miro.name: miro
      pangolin.public-resources.miro.protocol: http
      pangolin.public-resources.miro.full-domain: miro.chenn.dev
      pangolin.public-resources.miro.ssl: true
      pangolin.public-resources.miro.targets[0].method: http
      pangolin.public-resources.miro.targets[0].port: 3000
      pangolin.public-resources.miro.auth.sso-enabled: true
      pangolin.public-resources.miro.auth.sso-roles[0]: Member
      pangolin.public-resources.miro.rules[0].action: pass
      pangolin.public-resources.miro.rules[0].match: country
      pangolin.public-resources.miro.rules[0].value: US
      pangolin.public-resources.miro.rules[0].priority: 0
      pangolin.public-resources.miro.rules[1].action: deny
      pangolin.public-resources.miro.rules[1].match: country
      pangolin.public-resources.miro.rules[1].value: ALL
      pangolin.public-resources.miro.rules[1].priority: 10

  miros:
    profiles: [miros]
    image: mirotalk/sfu:latest
    container_name: miros
    restart: unless-stopped
    environment:
      NODE_ENV: production # Runtime environment: development|production
      SFU_ANNOUNCED_IP: ${VPS0_IP} # Set your public IP address or domain for WebRTC announcements
      SFU_LISTEN_IP: 0.0.0.0 # Bind to all interfaces
      SFU_MIN_PORT: 40000 # Minimum WebRTC port range
      SFU_MAX_PORT: 40009 # Maximum WebRTC port range
      SFU_NUM_WORKERS: 9 # Number of worker processes (defaults to CPU count)
      SFU_SERVER: true # Enable/disable WebRTC server (true|false)

      SERVER_HOST_URL: https://miros.chenn.dev # Public server URL (e.g., https://yourdomain.com)
      SERVER_LISTEN_IP: 0.0.0.0 # Server bind IP
      SERVER_LISTEN_PORT: 3010 # Port to listen on
      TRUST_PROXY: true # Trust proxy headers (true in production behind reverse proxy)
      SERVER_SSL_CERT: ../ssl/cert.pem # Path to SSL certificate
      SERVER_SSL_KEY: ../ssl/key.pem # Path to SSL private key
      CORS_ORIGIN: '*' # Allowed CORS origins (comma-separated)

      LOGS_JSON: false # Log output in JSON format (true|false)
      LOGS_JSON_PRETTY: false # Pretty-print JSON logs (true|false)

      RECORDING_ENABLED: false # Enable server-side recording (true|false)
      RECORDING_DIR: '../rec' # Directory to store recordings (Relative to app/src/)
      RECORDING_MAX_FILE_SIZE: 1073741824 # Max recording file size in bytes (default: 1GB)
      RECORDING_UPLOAD_TO_S3: false # Upload recordings to S3-compatible storage (MinIO, Wasabi, DigitalOcean Spaces, etc.) (true|false)
      RECORDING_ENDPOINT: # Recording service endpoint es http://localhost:8080

      RTMP_ENABLED: false # Enable RTMP streaming (true|false)
      RTMP_DIR: '../rtmp' # Directory to read files for RTMP streams (Relative to app/src/)
      RTMP_FROM_FILE: true # Enable local file streaming
      RTMP_FROM_URL: true # Enable URL streaming
      RTMP_FROM_STREAM: true # Enable live stream (camera, microphone, screen, window)
      RTMP_MAX_STREAMS: 1 # Max simultaneous RTMP streams
      RTMP_USE_NODE_MEDIA_SERVER: true # Use Node Media Server mirotalk-nms Docker image
      RTMP_SERVER: rtmp://localhost:1935 # RTMP server URL
      RTMP_APP_NAME: live # RTMP application name
      RTMP_STREAM_KEY: # RTMP stream key (optional)
      RTMP_SECRET: mirotalkRtmpSecret # RTMP API secret (Must match node-media-server config.js)
      RTMP_API_SECRET: mirotalkRtmpApiSecret # RTMP internal secret
      RTMP_EXPIRATION_HOURS: 4 # RTMP URL validity duration (hours)
      RTMP_FFMPEG_PATH: # RTMP Custom path to FFmpeg binary (auto-detected if empty)

      IP_WHITELIST_ENABLED: false # Restrict access by IP (true|false)
      IP_WHITELIST_ALLOWED: 127.0.0.1,::1 # Allowed IPs (comma-separated)
      JWT_SECRET: mirotalksfu_jwt_secret # Secret for JWT tokens
      JWT_EXPIRATION: 1h # JWT token expiration (e.g., 1h, 7d)

      OIDC_ENABLED: false # Enable OpenID Connect (true|false)
      OIDC_ALLOW_ROOMS_CREATION_FOR_AUTH_USERS: true # Allow all authenticated users via OIDC to create their own rooms
      OIDC_ISSUER: https://server.example.com # OIDC provider URL
      OIDC_BASE_URL: # OIDC base URL es https://yourdomain.com
      OIDC_CLIENT_ID: clientID # OIDC client ID
      OIDC_CLIENT_SECRET: clientSecret # OIDC client secret
      OIDC_SECRET: mirotalksfu-oidc-secret # OIDC secret
      OIDC_AUTH_REQUIRED: false # set to true if authentication is required for all routes
      OIDC_AUTH_LOGOUT: true # Controls automatic logout from both your app and Auth0 (true|false)
      OIDC_USERNAME_FORCE: true # Force the username to match OIDC email or name (true|false)
      OIDC_USERNAME_AS_EMAIL: true # Set username as email from OIDC (true|false)
      OIDC_USERNAME_AS_NAME: false # Set username as name from OIDC (true|false)

      HOST_PROTECTED: false # Enable host protection (true|false)
      HOST_USER_AUTH: false # Enable user authentication (true|false)
      HOST_USERS: ''
      HOST_MAX_LOGIN_ATTEMPTS: 5 # Maximum login attempts before temporary block
      HOST_MIN_LOGIN_BLOCK_TIME: 15 # Block duration in minutes after max attempts exceeded
      HOST_USERS_FROM_DB: false # Use DB for user auth (true|false)
      USERS_API_SECRET: mirotalkweb_default_secret # Users API secret key
      USERS_API_ENDPOINT: http://localhost:9000/api/v1/user/isAuth # User auth endpoint
      USERS_ROOM_ALLOWED_ENDPOINT: http://localhost:9000/api/v1/user/isRoomAllowed # Room permission endpoint
      USERS_ROOMS_ALLOWED_ENDPOINT: http://localhost:9000/api/v1/user/roomsAllowed # Allowed rooms endpoint
      ROOM_EXISTS_ENDPOINT: http://localhost:9000/api/v1/room/exists # Room exists endpoint

      PRESENTERS:
      PRESENTER_JOIN_FIRST: true # First joiner becomes presenter (true|false)

      API_KEY_SECRET: mirotalksfu_default_secret # Secret for API authentication
      API_ALLOW_STATS: true # Enable stats API (true|false)
      API_ALLOW_MEETINGS: false # Allow meetings API endpoint (true|false)
      API_ALLOW_MEETING: true # Allow single meeting API endpoint (true|false)
      API_ALLOW_MEETING_END: false # Allow meeting end API endpoint (true|false)
      API_ALLOW_JOIN: true # Allow join API endpoint (true|false)
      API_ALLOW_TOKEN: false # Allow token-based API authentication (true|false)
      API_ALLOW_SLACK: true # Allow Slack integration via API (true|false)
      API_ALLOW_MATTERMOST: true # Allow Mattermost integration via API (true|false)

      CHATGPT_ENABLED: false # Enable ChatGPT integration (true|false)
      CHATGPT_BASE_PATH: https://api.openai.com/v1/ # OpenAI base path
      CHATGPT_API_KEY: # OpenAI API key
      CHATGPT_MODEL: gpt-3.5-turbo # Model to use (gpt-3.5-turbo, gpt-4, etc.)
      CHATGPT_MAX_TOKENS: 1024 # Max response tokens
      CHATGPT_TEMPERATURE: 0.7 # Creativity level (0-1)

      DEEP_SEEK_ENABLED: false # Enable DeepSeek integration (true|false)
      DEEP_SEEK_BASE_PATH: https://api.deepseek.com/v1/ # DeepSeek base path
      DEEP_SEEK_API_KEY: # DeepSeek API key
      DEEP_SEEK_MODEL: deepseek-chat # Model to use (deepseek-chat, deepseek-coder, etc.)
      DEEP_SEEK_MAX_TOKENS: 1024 # Max response tokens
      DEEP_SEEK_TEMPERATURE: 0.7 # Creativity level (0-1)

      VIDEOAI_ENABLED: false # Enable video AI avatars (true|false)
      VIDEOAI_API_KEY: # HeyGen API key
      VIDEOAI_SYSTEM_LIMIT: # AI system prompt

      EMAIL_ALERTS_ENABLED: false # Enable email alerts (true|false)
      EMAIL_NOTIFICATIONS: false # Enable email notifications (true|false)
      EMAIL_HOST: smtp.gmail.com # SMTP server host
      EMAIL_PORT: 587 # SMTP port
      EMAIL_USERNAME: your_username # SMTP username
      EMAIL_PASSWORD: your_password # SMTP password
      EMAIL_FROM: # Sender email address
      EMAIL_SEND_TO: sfu.mirotalk@gmail.com # Notification recipient

      SLACK_ENABLED: false # Enable Slack integration (true|false)
      SLACK_SIGNING_SECRET: # Slack app signing secret

      MATTERMOST_ENABLED: false # Enable Mattermost (true|false)
      MATTERMOST_SERVER_URL: YourMattermostServerUrl # Mattermost server URL
      MATTERMOST_USERNAME: YourMattermostUsername # Mattermost username
      MATTERMOST_PASSWORD: YourMattermostPassword # Mattermost password
      MATTERMOST_TOKEN: YourMattermostToken # Mattermost slash command token
      MATTERMOST_COMMAND_NAME: /sfu # Mattermost command name
      MATTERMOST_DEFAULT_MESSAGE: Here is your meeting room # Mattermost default message

      DISCORD_ENABLED: false # Enable Discord bot (true|false)
      DISCORD_TOKEN: # Discord bot token
      DISCORD_COMMAND_NAME: /sfu # Discord command name
      DISCORD_DEFAULT_MESSAGE: Here is your SFU meeting room # Discord default message
      DISCORD_BASE_URL: https://sfu.mirotalk.com/join/ # Discord Base URL for meeting rooms

      NGROK_ENABLED: true # Enable Ngrok tunneling (true|false)
      NGROK_AUTH_TOKEN: # Ngrok authentication token

      SENTRY_ENABLED: false # Enable Sentry error tracking (true|false)
      SENTRY_LOG_LEVELS: error # Log levels to capture (comma-separated)
      SENTRY_DSN: # Sentry DSN URL
      SENTRY_TRACES_SAMPLE_RATE: 0.2 # Error sampling rate (0-1)

      WEBHOOK_ENABLED: false # Enable webhook notifications (true|false)
      WEBHOOK_URL: https://your-site.com/webhook-endpoint # Webhook endpoint URL

      IP_LOOKUP_ENABLED: false # Enable IP lookup functionality (true|false)
      S3_ENABLED: false # Enable S3-compatible storage (true|false)
      S3_ACCESS_KEY_ID: # Access Key ID (leave empty if using instance credentials or IAM roles)
      S3_SECRET_ACCESS_KEY: # Secret Access Key (leave empty if using instance credentials or IAM roles)
      S3_BUCKET: mirotalk # Name of your storage bucket (must exist)
      S3_REGION: # Region or location (e.g., us-east-2, eu-west-2, or custom for non-AWS providers)
      S3_ENDPOINT: # Custom endpoint URL for S3-compatible services (leave empty to auto-resolve from region). Use for MinIO, Wasabi, DigitalOcean Spaces, etc.
      S3_FORCE_PATH_STYLE: false # Use path-style URLs (true|false). Set to true for most S3-compatible providers (MinIO, Wasabi, etc.)
      BRAND_HTML_INJECTION: true # Enable HTML injection for branding (true|false)

      WIDGET_ENABLED: false # Enable branding widget (true|false)
      WIDGET_ROOM_ID: support-room # Widget room ID (default: support-room)
      WIDGET_THEME: dark # Widget theme (dark|light)
      WIDGET_STATE: minimized # Widget initial state (normal|minimized|closed)
      WIDGET_TYPE: support # Widget type (support)
      WIDGET_SUPPORT_POSITION: top-right # Support widget position (top-right|top-left|bottom-right|bottom-left)
      WIDGET_SUPPORT_EXPERT_IMAGES: # Comma-separated expert image URLs comma-separated
      WIDGET_SUPPORT_BUTTON_AUDIO: true # Show audio button in support widget (false|false)
      WIDGET_SUPPORT_BUTTON_VIDEO: true # Show video button in support widget (false|false)
      WIDGET_SUPPORT_BUTTON_SCREEN: true # Show screen share button in support widget (false|false)
      WIDGET_SUPPORT_BUTTON_CHAT: true # Show chat button in support widget (false|false)
      WIDGET_SUPPORT_BUTTON_JOIN: true # Show join button in support widget (false|false)
      WIDGET_SUPPORT_CHECK_ONLINE_STATUS: false # Check online room status (true|false)
      WIDGET_SUPPORT_IS_ONLINE: true # Is support online (true|false)
      WIDGET_SUPPORT_HEADING: Need Help? # Support widget heading
      WIDGET_SUPPORT_SUBHEADING: Get instant support from our expert team! # Support widget subheading
      WIDGET_SUPPORT_CONNECT_TEXT: connect in < 5 seconds # Connect text
      WIDGET_SUPPORT_ONLINE_TEXT: We are online # Online text
      WIDGET_SUPPORT_OFFLINE_TEXT: We are offline # Offline text
      WIDGET_SUPPORT_POWERED_BY: Powered by MiroTalk SFU # Powered by text
      WIDGET_ALERT_ENABLED: false # Enable alert notifications (true|false)
      WIDGET_ALERT_TYPE: email # Alert notification type (email) need EMAIL_ALERTS_ENABLED: true and configuration

      UI_LANGUAGE: en # Interface language (en, es, fr, etc.)
      APP_NAME: MiroTalk SFU # Application name
      APP_TITLE: # Custom HTML title (leave empty for default)
      APP_DESCRIPTION: # Application description
      JOIN_DESCRIPTION: # Join screen description
      JOIN_BUTTON_LABEL: JOIN ROOM # Join button text
      CUSTOMIZE_BUTTON_LABEL: CUSTOMIZE ROOM # Customize button text
      JOIN_LAST_LABEL: Your recent room # Recent room label text

      SITE_TITLE: # Website title
      SITE_ICON_PATH: ../images/logo.svg # Favicon path
      APPLE_TOUCH_ICON_PATH: ../images/logo.svg # Apple touch icon path
      NEW_ROOM_TITLE: # New room title
      NEW_ROOM_DESC: # New room description

      META_DESCRIPTION: # HTML meta description
      META_KEYWORDS: # HTML meta keywords

      OG_TYPE: app-webrtc # OpenGraph type
      OG_SITE_NAME: 'Chicken Talk' # OG site name
      OG_TITLE: # OG title
      OG_DESCRIPTION: # OG description
      OG_IMAGE_URL: https://sfu.mirotalk.com/images/mirotalksfu.png # OG image
      OG_URL: # OG URL

      SHOW_TOP_SPONSORS: true # Show top sponsors section (true|false)
      SHOW_FEATURES: true # Show features section (true|false)
      SHOW_TEAMS: true # Show teams section (true|false)
      SHOW_TRY_EASIER: true # Show "try easier" section (true|false)
      SHOW_POWERED_BY: true # Show powered by (true|false)
      SHOW_SPONSORS: true # Show sponsors (true|false)
      SHOW_ADVERTISERS: true # Show advertisers (true|false)
      SHOW_SUPPORT_US: true # Show support us section (true|false)
      SHOW_FOOTER: true # Show footer (true|false)

      WHO_ARE_YOU_TITLE: 'Who are you?' # Title
      WHO_ARE_YOU_DESCRIPTION: "If you're the presenter, please log in now.<br />Otherwise, kindly wait for the presenter to join." # Description
      WHO_ARE_YOU_BUTTON_LOGIN_LABEL: 'LOGIN' # Login button label
      WHO_ARE_YOU_JOIN_LABEL: 'JOIN ROOM' # Join button label

      ABOUT_IMAGE_URL: ../images/mirotalk-logo.gif # About section image
      SUPPORT_URL:
      SUPPORT_TEXT: Support # Support button text
      AUTHOR_LABEL: Author # Author label text
      AUTHOR_NAME:
      LINKEDIN_URL:
      CONTACT_EMAIL:
      EMAIL_SUBJECT:
      COPYRIGHT_TEXT: MiroTalk SFU, all rights reserved # Copyright text

      SHOW_ACTIVE_ROOMS: false # Show active rooms feature (true|false)
      SHOW_SHARE_ROOM_POPUP: true # Show share room popup (true|false)
      SHOW_SHARE_ROOM_QR_ON_HOVER: true # Show share room QR popup on mouse hover (true|false)

      SHOW_AUDIO_BUTTON: true # Show audio button (true|false)
      SHOW_VIDEO_BUTTON: true # Show video button (true|false)
      SHOW_SCREEN_BUTTON: true # Show screen share button (true|false)
      SHOW_SWAP_CAMERA: true # Show camera swap button (true|false)
      SHOW_RAISE_HAND: true # Show raise hand button (true|false)
      SHOW_CHAT_BUTTON: true # Show chat button (true|false)
      SHOW_PARTICIPANTS_BUTTON: true # Show participants button (true|false)
      SHOW_SETTINGS: true # Show settings button (true|false)
      SHOW_EXTRA_BUTTON: true # Show extra buttons (true|false)
      SHOW_EXIT_BUTTON: true # Show exit button (true|false)
      SHOW_SHARE_BUTTON: true # Show share button (true|false)
      SHOW_HIDE_ME: true # Show hide me button (true|false)
      SHOW_FULLSCREEN_BUTTON: true # Show fullscreen button (true|false)
      SHOW_EMOJI: true # Show emoji button (true|false)
      SHOW_TRANSCRIPTION: true # Show transcription button (true|false)
      SHOW_POLL_BUTTON: true # Show poll button (true|false)
      SHOW_EDITOR_BUTTON: true # Show editor button (true|false)
      SHOW_WHITEBOARD: true # Show whiteboard button (true|false)
      SHOW_DOCUMENT_PIP: true # Show document PiP button (true|false)
      SHOW_SNAPSHOT: true # Show snapshot button (true|false)
      SHOW_ABOUT: true # Show about button (true|false)

      SHOW_ROOMS: true # Show rooms (true|false)
      ENABLE_FILE_SHARING: true # Enable file sharing (true|false)
      SHOW_LOCK_ROOM: true # Show lock room button (true|false)
      SHOW_UNLOCK_ROOM: true # Show unlock room button (true|false)
      SHOW_BROADCASTING: true # Show broadcasting button (true|false)
      SHOW_LOBBY: true # Show lobby button (true|false)
      SHOW_EMAIL_INVITE: true # Show email invitation button (true|false)
      SHOW_MIC_OPTIONS: true # Show mic options button (true|false)
      SHOW_RTMP_TAB: true # Show RTMP tab (true|false)
      SHOW_NOTIFICATIONS_TAB: true # Show notifications tab (true|false)
      SHOW_MODERATOR_TAB: true # Show moderator tab (true|false)
      SHOW_RECORDING_TAB: true # Show recording tab (true|false)
      HOST_ONLY_RECORDING: true # Only host can record (true|false)
      ENABLE_PUSH_TO_TALK: true # Enable push-to-talk (true|false)
      SHOW_KEYBOARD_SHORTCUTS: true # Show keyboard shortcuts (true|false)
      SHOW_VIRTUAL_BACKGROUND: true # Show virtual background (true|false)

      ENABLE_PIP: true # Enable picture-in-picture (true|false)
      SHOW_MIRROR_BUTTON: true # Show mirror button (true|false)
      SHOW_FULLSCREEN: true # Show fullscreen button (true|false)
      SHOW_SNAPSHOT_BUTTON: true # Show snapshot button (true|false)
      SHOW_MUTE_AUDIO: true # Show mute audio button (true|false)
      SHOW_PRIVACY_TOGGLE: true # Show privacy toggle (true|false)
      SHOW_VOLUME_CONTROL: true # Show volume control (true|false)
      SHOW_FOCUS_BUTTON: true # Show focus button (true|false)
      SHOW_SEND_MESSAGE: true # Show send message button (true|false)
      SHOW_SEND_FILE: true # Show send file button (true|false)
      SHOW_SEND_VIDEO: true # Show send video button (true|false)
      SHOW_MUTE_VIDEO: true # Show mute video button (true|false)
      SHOW_GEO_LOCATION: true # Show geoLocation button (true|false)
      SHOW_BAN_BUTTON: true # Show ban button (true|false)
      SHOW_EJECT_BUTTON: true # Show eject button (true|false)

      SHOW_CHAT_PIN: true # Show chat pin button (true|false)
      SHOW_CHAT_MAXIMIZE: true # Show chat maximize button (true|false)
      SHOW_CHAT_SAVE: true # Show chat save button (true|false)
      SHOW_CHAT_EMOJI: true # Show chat emoji button (true|false)
      SHOW_CHAT_MARKDOWN: true # Show chat markdown button (true|false)
      SHOW_CHAT_SPEECH: true # Show chat speech button (true|false)
      ENABLE_CHAT_GPT: true # Enable ChatGPT in chat (true|false)
      ENABLE_DEEP_SEEK: true # Enable DeepSeek in chat (true|false)
      SHOW_POLL_PIN: true # Show poll pin button (true|false)
      SHOW_POLL_MAXIMIZE: true # Show poll maximize button (true|false)
      SHOW_POLL_SAVE: true # Show poll save button (true|false)
      SHOW_SAVE_INFO: true # Show save info button (true|false)
      SHOW_SEND_FILE_ALL: true # Show send file to all button (true|false)
      SHOW_EJECT_ALL: true # Show eject all button (true|false)
      SHOW_WB_LOCK: true # Show whiteboard lock button (true|false)

      SURVEY_ENABLED: false # Enable post-call survey (true|false)
      SURVEY_URL:
      REDIRECT_ENABLED: false # Enable post-call redirect (true|false)
      REDIRECT_URL: # Redirect URL
      STATS_ENABLED: false # Enable usage statistics (true|false)
      STATS_SRC: https://stats.mirotalk.com/script.js # Stats script URL
      STATS_ID: 41d26670-f275-45bb-af82-3ce91fe57756 # Stats tracking ID

      CUSTOM_NOISE_SUPPRESSION_ENABLED: true # Enable custom noise suppression, default one will still work if this is disabled (true|false)
      ROOM_MAX_PARTICIPANTS: 100 # Maximum participants per room
      ROOM_LOBBY: false # Enable room lobby (true|false)

      MEDIASOUP_ROUTER_AUDIO_LEVEL_OBSERVER_ENABLED: true # Enable audio level observer (true|false)
      MEDIASOUP_ROUTER_ACTIVE_SPEAKER_OBSERVER_ENABLED: false # Enable active speaker observer (true|false)
      MEDIASOUP_LOG_LEVEL: error # Mediasoup log level (debug, warn, error)
    networks: [traefik]
    labels:
      homepage.group: Tools
      homepage.name: Mirotalk
      homepage.icon: miro.png
      homepage.href: https://miros.chenn.dev
      homepage.description: Group Video Chat

      pangolin.public-resources.miros.name: miros
      pangolin.public-resources.miros.protocol: http
      pangolin.public-resources.miros.full-domain: miros.chenn.dev
      pangolin.public-resources.miros.ssl: true
      pangolin.public-resources.miros.targets[0].method: http
      pangolin.public-resources.miros.targets[0].port: 3010
      pangolin.public-resources.miros.auth.sso-enabled: true
      pangolin.public-resources.miros.auth.sso-roles[0]: Member
      pangolin.public-resources.miros.rules[0].action: pass
      pangolin.public-resources.miros.rules[0].match: country
      pangolin.public-resources.miros.rules[0].value: US
      pangolin.public-resources.miros.rules[0].priority: 0
      pangolin.public-resources.miros.rules[1].action: deny
      pangolin.public-resources.miros.rules[1].match: country
      pangolin.public-resources.miros.rules[1].value: ALL
      pangolin.public-resources.miros.rules[1].priority: 10

      pangolin.public-resources.tcp-40000.name: tcp-40000
      pangolin.public-resources.tcp-40000.protocol: tcp
      pangolin.public-resources.tcp-40000.proxy-port: 40000
      pangolin.public-resources.tcp-40000.targets[0].port: 40000
      pangolin.public-resources.tcp-40001.name: tcp-40001
      pangolin.public-resources.tcp-40001.protocol: tcp
      pangolin.public-resources.tcp-40001.proxy-port: 40001
      pangolin.public-resources.tcp-40001.targets[0].port: 40001
      pangolin.public-resources.tcp-40002.name: tcp-40002
      pangolin.public-resources.tcp-40002.protocol: tcp
      pangolin.public-resources.tcp-40002.proxy-port: 40002
      pangolin.public-resources.tcp-40002.targets[0].port: 40002
      pangolin.public-resources.tcp-40003.name: tcp-40003
      pangolin.public-resources.tcp-40003.protocol: tcp
      pangolin.public-resources.tcp-40003.proxy-port: 40003
      pangolin.public-resources.tcp-40003.targets[0].port: 40003
      pangolin.public-resources.tcp-40004.name: tcp-40004
      pangolin.public-resources.tcp-40004.protocol: tcp
      pangolin.public-resources.tcp-40004.proxy-port: 40004
      pangolin.public-resources.tcp-40004.targets[0].port: 40004
      pangolin.public-resources.tcp-40005.name: tcp-40005
      pangolin.public-resources.tcp-40005.protocol: tcp
      pangolin.public-resources.tcp-40005.proxy-port: 40005
      pangolin.public-resources.tcp-40005.targets[0].port: 40005
      pangolin.public-resources.tcp-40006.name: tcp-40006
      pangolin.public-resources.tcp-40006.protocol: tcp
      pangolin.public-resources.tcp-40006.proxy-port: 40006
      pangolin.public-resources.tcp-40006.targets[0].port: 40006
      pangolin.public-resources.tcp-40007.name: tcp-40007
      pangolin.public-resources.tcp-40007.protocol: tcp
      pangolin.public-resources.tcp-40007.proxy-port: 40007
      pangolin.public-resources.tcp-40007.targets[0].port: 40007
      pangolin.public-resources.tcp-40008.name: tcp-40008
      pangolin.public-resources.tcp-40008.protocol: tcp
      pangolin.public-resources.tcp-40008.proxy-port: 40008
      pangolin.public-resources.tcp-40008.targets[0].port: 40008
      pangolin.public-resources.tcp-40009.name: tcp-40009
      pangolin.public-resources.tcp-40009.protocol: tcp
      pangolin.public-resources.tcp-40009.proxy-port: 40009
      pangolin.public-resources.tcp-40009.targets[0].port: 40009
      pangolin.public-resources.udp-40000.name: udp-40000
      pangolin.public-resources.udp-40000.protocol: udp
      pangolin.public-resources.udp-40000.proxy-port: 40000
      pangolin.public-resources.udp-40000.targets[0].port: 40000
      pangolin.public-resources.udp-40001.name: udp-40001
      pangolin.public-resources.udp-40001.protocol: udp
      pangolin.public-resources.udp-40001.proxy-port: 40001
      pangolin.public-resources.udp-40001.targets[0].port: 40001
      pangolin.public-resources.udp-40002.name: udp-40002
      pangolin.public-resources.udp-40002.protocol: udp
      pangolin.public-resources.udp-40002.proxy-port: 40002
      pangolin.public-resources.udp-40002.targets[0].port: 40002
      pangolin.public-resources.udp-40003.name: udp-40003
      pangolin.public-resources.udp-40003.protocol: udp
      pangolin.public-resources.udp-40003.proxy-port: 40003
      pangolin.public-resources.udp-40003.targets[0].port: 40003
      pangolin.public-resources.udp-40004.name: udp-40004
      pangolin.public-resources.udp-40004.protocol: udp
      pangolin.public-resources.udp-40004.proxy-port: 40004
      pangolin.public-resources.udp-40004.targets[0].port: 40004
      pangolin.public-resources.udp-40005.name: udp-40005
      pangolin.public-resources.udp-40005.protocol: udp
      pangolin.public-resources.udp-40005.proxy-port: 40005
      pangolin.public-resources.udp-40005.targets[0].port: 40005
      pangolin.public-resources.udp-40006.name: udp-40006
      pangolin.public-resources.udp-40006.protocol: udp
      pangolin.public-resources.udp-40006.proxy-port: 40006
      pangolin.public-resources.udp-40006.targets[0].port: 40006
      pangolin.public-resources.udp-40007.name: udp-40007
      pangolin.public-resources.udp-40007.protocol: udp
      pangolin.public-resources.udp-40007.proxy-port: 40007
      pangolin.public-resources.udp-40007.targets[0].port: 40007
      pangolin.public-resources.udp-40008.name: udp-40008
      pangolin.public-resources.udp-40008.protocol: udp
      pangolin.public-resources.udp-40008.proxy-port: 40008
      pangolin.public-resources.udp-40008.targets[0].port: 40008
      pangolin.public-resources.udp-40009.name: udp-40009
      pangolin.public-resources.udp-40009.protocol: udp
      pangolin.public-resources.udp-40009.proxy-port: 40009
      pangolin.public-resources.udp-40009.targets[0].port: 40009
